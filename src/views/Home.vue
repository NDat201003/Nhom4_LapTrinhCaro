<template>
  <div class="home">
    <h1>ChÃ o má»«ng Ä‘áº¿n vá»›i Cá» Caro Online ğŸ‰</h1>

    <div v-if="!authStore.user" class="auth-message">
      <p>Báº¡n cáº§n Ä‘Äƒng nháº­p Ä‘á»ƒ chÆ¡i game!</p>
      <router-link to="/login" class="btn">ÄÄƒng nháº­p</router-link>
      <router-link to="/register" class="btn">ÄÄƒng kÃ½</router-link>
    </div>

    <div v-else class="game-options">
      <p>Xin chÃ o, {{ authStore.user.email }}! Báº¡n muá»‘n lÃ m gÃ¬?</p>
      <router-link to="/rooms" class="btn">ğŸ” TÃ¬m phÃ²ng</router-link>
      <router-link to="/create-room" class="btn">â• Táº¡o phÃ²ng</router-link>
      <button class="btn logout" @click="handleLogout">ğŸšª ÄÄƒng xuáº¥t</button>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useAuthStore } from "../store/auth";

const authStore = useAuthStore();

const handleLogout = async () => {
  await authStore.logout();
};
</script>

<style scoped>
.home {
  text-align: center;
  margin-top: 50px;
}
.auth-message {
  color: red;
  font-size: 18px;
  margin-top: 20px;
}
.game-options {
  margin-top: 20px;
}
.btn {
  display: inline-block;
  margin: 10px;
  padding: 10px 20px;
  background: #007bff;
  color: white;
  text-decoration: none;
  border-radius: 5px;
  cursor: pointer;
}
.btn:hover {
  background: #0056b3;
}
.logout {
  background: red;
}
.logout:hover {
  background: darkred;
}
</style>
